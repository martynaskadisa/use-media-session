{"version":3,"sources":["../../src/index.tsx","App.js","index.js"],"names":["isMediaSessionAvailable","window","navigator","App","title","album","artist","artwork","mediaSession","metadata","MediaMetadata","undefined","useMediaMeta","style","maxWidth","margin","padding","textAlign","marginBottom","href","target","rel","class","marginTop","ReactDOM","render","document","getElementById"],"mappings":"wLAEMA,G,KACc,qBAAXC,QAA0B,iBAAkBA,OAAOC,WCiC7CC,MAjCH,KDagB,SAAC,G,IAC3BC,EAAK,QACLC,EAAK,QACLC,EAAM,SACNC,EAAO,UAEP,qBAAU,WACR,GAAKP,EASL,OAPAC,OAAOC,UAAUM,aAAaC,SAAW,IAAIC,cAAc,CACzDN,MAAK,EACLC,MAAK,EACLC,OAAM,EACNC,QAAO,IAGF,WACLN,OAAOC,UAAUM,aAAaC,cAAWE,KAE1C,CAACN,EAAOC,EAAQC,EAASH,IC/B5BQ,CAAa,CACXR,MAAO,YACPC,MAAO,QACPC,OAAQ,UAGR,yBAAKO,MAAO,CAAEC,SAAU,IAAKC,OAAQ,YAAaC,QAAS,SACzD,wBAAIH,MAAO,CAAEI,UAAW,WAAxB,qBACA,uBAAGJ,MAAO,CAAEI,UAAW,SAAUC,aAAc,SAA/C,gDAGA,yBAAKL,MAAO,CAAEI,UAAW,WACvB,uBACEE,KAAK,sDACLC,OAAO,SACPC,IAAI,sBACJC,MAAM,UAJR,WASF,wBAAIT,MAAO,CAAEU,UAAW,SAAxB,WACA,qEACA,iCACA,2DACA,wBAAIV,MAAO,CAAEU,UAAW,SAAxB,YACA,uCACA,6CACA,8CC1BNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.4095ced3.chunk.js","sourcesContent":["import { useEffect } from 'react';\n\nconst isMediaSessionAvailable =\n  typeof window !== 'undefined' && 'mediaSession' in window.navigator;\n\ninterface MediaMetadataOptions {\n  title?: string;\n  artist?: string;\n  album?: string;\n  artwork?: Array<{\n    src: string;\n    sizes?: string;\n    type?: string;\n  }>;\n}\n\nexport const useMediaMeta = ({\n  title,\n  album,\n  artist,\n  artwork,\n}: MediaMetadataOptions): void => {\n  useEffect(() => {\n    if (!isMediaSessionAvailable) return;\n\n    window.navigator.mediaSession.metadata = new MediaMetadata({\n      title,\n      album,\n      artist,\n      artwork,\n    });\n\n    return () => {\n      window.navigator.mediaSession.metadata = undefined;\n    };\n  }, [album, artist, artwork, title]);\n};\n\ntype PlaybackState = 'none' | 'paused' | 'playing';\n\ninterface MediaSessionOptions {\n  playbackState?: PlaybackState;\n  onPlay?: () => void;\n  onPause?: () => void;\n  onSeekBackward?: () => void;\n  onSeekForward?: () => void;\n  onPreviousTrack?: () => void;\n  onNextTrack?: () => void;\n  onSeekTo?: () => void;\n  onSkipAd?: () => void;\n  onStop?: () => void;\n}\n\nconst bindActionHandler = (action: string, callback?: () => void) => {\n  if (!isMediaSessionAvailable || !callback) return;\n\n  window.navigator.mediaSession.setActionHandler(action, callback);\n\n  return () => {\n    window.navigator.mediaSession.setActionHandler(action, null);\n  };\n};\n\nexport const useMediaSession = ({\n  playbackState = 'none',\n  onPause,\n  onPlay,\n  onNextTrack,\n  onPreviousTrack,\n  onSeekBackward,\n  onSeekForward,\n  onSeekTo,\n  onSkipAd,\n  onStop,\n}: MediaSessionOptions): void => {\n  useEffect(() => {\n    if (!isMediaSessionAvailable) return;\n\n    window.navigator.mediaSession.playbackState = playbackState;\n\n    return () => {\n      window.navigator.mediaSession.playbackState = 'none';\n    };\n  }, [playbackState]);\n\n  useEffect(() => bindActionHandler('play', onPlay), [onPlay]);\n  useEffect(() => bindActionHandler('pause', onPause), [onPause]);\n  useEffect(() => bindActionHandler('nexttrack', onNextTrack), [onNextTrack]);\n  useEffect(() => bindActionHandler('previoustrack', onPreviousTrack), [\n    onPreviousTrack,\n  ]);\n  useEffect(() => bindActionHandler('seekbackward', onSeekBackward), [\n    onSeekBackward,\n  ]);\n  useEffect(() => bindActionHandler('seekforward', onSeekForward), [\n    onSeekForward,\n  ]);\n  useEffect(() => bindActionHandler('seekto', onSeekTo), [onSeekTo]);\n  useEffect(() => bindActionHandler('skipad', onSkipAd), [onSkipAd]);\n  useEffect(() => bindActionHandler('stop', onStop), [onStop]);\n};\n","import React from 'react';\nimport { useMediaMeta } from 'use-media-session';\n\nconst App = () => {\n  useMediaMeta({\n    title: 'React app',\n    album: 'React',\n    artist: 'React',\n  });\n  return (\n    <div style={{ maxWidth: 800, margin: '2rem auto', padding: '1rem' }}>\n      <h1 style={{ textAlign: 'center' }}>use-media-session</h1>\n      <p style={{ textAlign: 'center', marginBottom: '5rem' }}>\n        Hooks for interacting with Media Session API\n      </p>\n      <div style={{ textAlign: 'center' }}>\n        <a\n          href=\"https://github.com/martynaskadisa/use-media-session\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          class=\"button\"\n        >\n          Github\n        </a>\n      </div>\n      <h2 style={{ marginTop: '5rem' }}>Install</h2>\n      <pre>npm install --save use-media-session</pre>\n      <p>or</p>\n      <pre>yarn add use-media-session</pre>\n      <h2 style={{ marginTop: '5rem' }}>Examples</h2>\n      <p>// @TODO</p>\n      <h3>API reference</h3>\n      <p>// also @TODO</p>\n    </div>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}